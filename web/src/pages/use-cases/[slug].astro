---
import MainLayout from '../../layouts/MainLayout.astro';
import Footer from '../../components/astro/Footer.astro';
import { useCases } from '../../lib/landingData.js';

export function getStaticPaths() {
  const dedicatedUseCaseSlugs = new Set([
    'startup-founders',
    'procurement-teams',
    'freelancers-agencies',
    'small-business-owners',
  ]);
  return useCases
    .filter((entry) => !dedicatedUseCaseSlugs.has(entry.slug))
    .map((entry) => ({
      params: { slug: entry.slug },
      props: { useCase: entry },
    }));
}

const { useCase } = Astro.props;
const relatedUseCases = useCases.filter((item) => item.slug !== useCase.slug).slice(0, 3);
const pageTitle = `${useCase.title} | DecoDocs Use Cases`;
const pageDescription = useCase.heroDescription || useCase.description;
---

<MainLayout
  title={pageTitle}
  description={pageDescription}
  canonical={`https://decodocs.com/use-cases/${useCase.slug}/`}
  image="https://decodocs.com/og.svg"
>
  <main class="relative overflow-hidden px-6 pb-20 pt-12">
    <div class="pointer-events-none absolute inset-0">
      <div class="absolute -right-20 -top-24 h-64 w-64 rounded-full bg-amber-200/40 blur-3xl" />
      <div class="absolute -left-24 top-56 h-72 w-72 rounded-full bg-blue-200/30 blur-3xl" />
    </div>

    <div class="relative mx-auto flex w-full max-w-6xl flex-col gap-16">
      <section class="grid gap-8 rounded-3xl border border-slate-200/80 bg-white/85 p-8 shadow-xl shadow-slate-900/5 backdrop-blur-sm lg:grid-cols-[1.2fr_0.8fr] lg:p-12">
        <div>
          <p class="text-xs font-bold uppercase tracking-[0.25em] text-slate-500">{useCase.audience}</p>
          <h1 class="mt-4 text-4xl font-bold leading-tight text-slate-900 lg:text-5xl">{useCase.heroTitle || useCase.title}</h1>
          <p class="mt-5 max-w-2xl text-lg leading-relaxed text-slate-600">{useCase.heroDescription || useCase.description}</p>
          <div class="mt-8 flex flex-wrap gap-3">
            <a class="inline-flex rounded-full bg-slate-900 px-6 py-3 text-sm font-semibold text-white no-underline hover:bg-slate-800" href={useCase.cta?.primaryTo || '/view'}>{useCase.cta?.primaryLabel || 'Open viewer'}</a>
            <a class="inline-flex rounded-full border border-slate-300 bg-white px-6 py-3 text-sm font-semibold text-slate-900 no-underline hover:bg-slate-50" href={useCase.cta?.secondaryTo || '/contact'}>{useCase.cta?.secondaryLabel || 'Contact us'}</a>
          </div>
        </div>

        <div class="rounded-2xl border border-slate-200 bg-slate-50 p-6">
          <p class="text-sm font-semibold text-slate-800">Best document fit</p>
          <ul class="mt-4 space-y-3 list-none p-0">
            {useCase.documentTypes.map((item) => (
              <li class="flex items-start gap-2 text-sm text-slate-700">
                <span class="mt-1 inline-block h-2 w-2 rounded-full bg-emerald-500" />
                <span>{item}</span>
              </li>
            ))}
          </ul>
        </div>
      </section>

      <section class="grid gap-4 md:grid-cols-3">
        {useCase.highlights.map((item) => (
          <article class="rounded-2xl border border-slate-200 bg-white p-5">
            <p class="text-xs font-semibold uppercase tracking-wider text-slate-500">{item.label}</p>
            <p class="mt-2 text-lg font-semibold text-slate-900">{item.value}</p>
          </article>
        ))}
      </section>

      <section>
        <p class="mb-6 text-sm font-bold uppercase tracking-wider text-slate-500">Where teams get blocked</p>
        <div class="grid gap-4 md:grid-cols-2">
          {useCase.painPoints.map((point) => (
            <article class="rounded-2xl border border-slate-200 bg-white p-5 text-slate-700 shadow-sm">{point}</article>
          ))}
        </div>
      </section>

      <section>
        <p class="mb-6 text-sm font-bold uppercase tracking-wider text-slate-500">Recommended workflow</p>
        <div class="grid gap-4 lg:grid-cols-3">
          {useCase.workflow.map((item, index) => (
            <article class="rounded-2xl border border-slate-200 bg-white p-6 shadow-sm">
              <p class="text-xs font-semibold uppercase tracking-[0.2em] text-slate-400">Step {index + 1}</p>
              <h3 class="mt-3 text-lg font-semibold text-slate-900">{item.step}</h3>
              <p class="mt-3 text-sm leading-relaxed text-slate-600">{item.detail}</p>
            </article>
          ))}
        </div>
      </section>

      <section class="grid gap-6 rounded-3xl border border-slate-200 bg-white p-8 lg:grid-cols-[1fr_1fr]">
        <div>
          <p class="text-sm font-bold uppercase tracking-wider text-slate-500">What your team delivers</p>
          <ul class="mt-5 space-y-3 list-none p-0">
            {useCase.deliverables.map((item) => (
              <li class="flex items-start gap-2 text-sm text-slate-700">
                <span class="mt-1 inline-block h-2 w-2 rounded-full bg-emerald-500" />
                <span>{item}</span>
              </li>
            ))}
          </ul>
        </div>
        <div class="rounded-2xl border border-slate-200 bg-slate-50 p-6">
          <p class="text-sm font-semibold text-slate-900">Need this workflow adapted to your team?</p>
          <p class="mt-3 text-sm leading-relaxed text-slate-600">We can help shape your review flow around your real document mix and approval process.</p>
          <div class="mt-5 flex flex-wrap gap-3">
            <a class="inline-flex rounded-full bg-slate-900 px-4 py-2 text-sm font-semibold text-white no-underline hover:bg-slate-800" href="/contact">Talk to us</a>
            <a class="inline-flex rounded-full border border-slate-300 bg-white px-4 py-2 text-sm font-semibold text-slate-900 no-underline hover:bg-slate-50" href="/pricing">View pricing</a>
          </div>
        </div>
      </section>

      <section>
        <p class="text-sm font-bold uppercase tracking-wider text-slate-500">Related use cases</p>
        <div class="mt-5 grid gap-4 md:grid-cols-3">
          {relatedUseCases.map((item) => (
            <a href={`/use-cases/${item.slug}`} class="rounded-2xl border border-slate-200 bg-white p-5 no-underline transition hover:border-slate-300 hover:shadow-lg">
              <p class="text-xs font-semibold uppercase tracking-wide text-slate-400">{item.audience || 'Use case'}</p>
              <p class="mt-2 text-lg font-semibold text-slate-900">{item.title}</p>
              <p class="mt-2 text-sm text-slate-600">{item.description}</p>
            </a>
          ))}
        </div>
      </section>
    </div>
  </main>
  <Footer />
</MainLayout>
